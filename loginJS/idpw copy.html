<!DOCTYPE html>
<html>
    <head>
        <title>회원가입</title>
        <style>
            @font-face {
                font-family: 'GangwonEdu_OTFBoldA';
                src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/GangwonEdu_OTFBoldA.woff') format('woff');
                font-weight: normal;
                font-style: normal;
            }
            .container{
                width: 400px;
                font-family: 'GangwonEdu_OTFBoldA';
            }
        </style>
        <script>
            function submitPassword(){
                var password = document.getElementById("password").value;
                var confirmPassword = document.getElementById("confirmPassword").value;
                /*
                    정규식을 활용해서
                    영문자 대/소문자 숫자 특수문자 포함하기 8~32자
                    /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/
                */
                var passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,32}$/;
                var msg = "비밀번호는 영문자 대/소문자, 특수문자, 숫자를 포함한 8 ~ 32자";
                var errorPW = document.getElementById("passwordMsg");

                if(!password.match(passwordPattern)){
                    errorPW.textContent = "비밀번호는 8~32자의 영문 대문자, 소문자, 특수문자, 숫자를 포함해야합니다";
                    return false;
                } else {
                    errorPW.textContent = ""; //유효한 경우 오류 메세지 지우기
                }

                if(password!==confirmPassword){
                    errorPW.textContent = '비밀번호가 일치하지 않습니다';
                    return false;
                } else {
                    errorPW.textContent = "";
                    alert("회원가입이 완료되었습니다");
                    return true;
                }
            }
        </script>
    </head>
    <body>
        <div class="container">
        <header>
            <h2 style="text-align: center;">회원가입</h2>
        </header>
        <section style="background-color: lightgray; height: 150px; border-radius: 10px; padding:10px; text-align: center;">
            <!--
                onsubmit : 폼이 제출될 때 JS함수가 반환하는 값에 따라 폼이 계속 진행될지 멈출지 결정
                return ture : 폼이 계속 진행되고 서버로 데이터가 제출됨
                return false : 폼이 제출되지 않고, 서버로 데이터가 전송되지 X
            -->
            <form onsubmit="return submitPassword()">
                <label for="username">ID : </label> <!--for: id와 연결해줌-->
                <input type="text" id="username"><br>

                <label for="password">pw: </label>
                <input type="password" id="password">
                <!--
                    <p id="passwordMsg"></p>
                    P 태그 안에는 비밀번호가 잘못 입력되었거나, 유효한 입력을 유도하기 위해 보여지는 메세지
                -->
                <p id="passwordMsg" style="color: red;"></p><br>
                <label for="confirmPassword">pw 확인 : </label>
                <input type="password" id="confirmPassword"><br><br>

                <input type="submit" value="submit" style="background-color: darkgreen; color: white; font-family: 'GangwonEdu_OTFBoldA'; padding:2px 10px; cursor: pointer;">
            </form>
        </section>
        </div> <!--container-->
    </body>
</html>